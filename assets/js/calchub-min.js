/*! ========= INFORMATION ============================
	- author:    CalcHub
	- url:       https://calchub.xyz
	- plugin:    https://wordpress.org/plugins/calculator-builder/
==================================================== */
"use strict";const CalculatorBuilder=function(){function t(t){let e=[];const o=t.querySelectorAll("fieldset");for(let t=0;t<o.length;t++){e[t+1]=o[t]}return e}function e(t){let e=[];const o=t.querySelectorAll(".formbox__title");for(let t=0;t<o.length;t++){e[t+1]=o[t]}return e}function o(t){const e=t.querySelectorAll('[name^="formbox-field-"], button');let o=[];for(let t=0;t<e.length;t++){o[t+1]=e[t]}return o}function r(t,e){let o=[];const r=t.querySelectorAll('[name^="formbox-field-"]');for(let t of e.entries()){o[t[0].split("-")[2]]=parseFloat(t[1])}for(let t=0;t<r.length;t++){if("textarea"===r[t].tagName.toLowerCase()){o[r[t].getAttribute("name").split("-")[2]]=r[t].value}if("input"===r[t].tagName.toLowerCase()&&"number"!==r[t].getAttribute("type")&&"radio"!==r[t].getAttribute("type")){o[r[t].getAttribute("name").split("-")[2]]=r[t].value}if("input"===r[t].tagName.toLowerCase()&&"checkbox"===r[t].getAttribute("type")){let e=r[t].getAttribute("name").split("-");r[t].checked?o[e[2]]=parseFloat(r[t].value):o[e[2]]=0}}return o}function n(t){a(this.form,"add")}function i(n){n.preventDefault();const i=this.form,l=e(this.form),s=t(this.form),f=o(this.form),c=new FormData(this.form);let u=r(this.form,c),m=window[this.form.id](u,s,f,l,i);if("string"==typeof m)return d(i,"show",m),a(i,"add"),!1;d(i,"hide");const h=this.form.querySelectorAll('[name^="formbox-field-"]');for(let t=0;t<h.length;t++)if(h[t].hasAttribute("required")&&""===h[t].value)return h[t].focus({preventScroll:!1}),!1;const p=this.form.querySelectorAll(".formbox__field-result");for(let t=1;t<m.length;t++){let e=p[t-1];"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(e.value=m[t]),"textarea"===e.tagName.toLowerCase()&&e.hasAttribute("hidden")&&(e.nextElementSibling.innerHTML=m[t]),a(this.form,"remove")}}function l(n){n.preventDefault();const i=e(this.form),l=t(this.form),s=o(this.form),a=new FormData(this.form);let d=r(this.form,a);window[this.form.id](d,l,s,i)}function s(){a(this.form,"add");const n=e(this.form),i=t(this.form),l=o(this.form);let s=r(this.form,this.data);window[this.form.id](s,i,l,n),d(this.form,"hide")}function a(t,e){let o=t.querySelectorAll(".formbox__container.has-result");o&&o.forEach((t=>{"remove"===e?t.classList.remove("is-hidden"):t.classList.add("is-hidden")}))}function d(t,e,o=""){const r=t.querySelector(".has-alert");if("hide"===e&&r){r.classList.add("is-hidden");r.querySelector(".formbox__field-alert").innerHTML=""}else if("show"===e&&r){const t=r.querySelector(".formbox__field-alert");r.classList.remove("is-hidden"),t.innerHTML=o}}document.querySelectorAll(".formbox").forEach((t=>{let e=t.querySelector(".formbox__btn-calc");e&&e.addEventListener("click",{handleEvent:i,form:t});const o=new FormData(t);t.addEventListener("reset",{handleEvent:s,form:t,data:o}),t.querySelector(".calc-reset")?t.addEventListener("change",{handleEvent:n,form:t}):t.addEventListener("change",{handleEvent:i,form:t}),t.querySelector(".calc-load")&&window.addEventListener("load",{handleEvent:i,form:t}),window.addEventListener("load",{handleEvent:l,form:t})})),Element.prototype.hide=function(){this.classList.add("is-hidden")},Element.prototype.show=function(){this.classList.remove("is-hidden")},Element.prototype.addClass=function(t){this.classList.add(t)},Element.prototype.removeClass=function(t){this.classList.remove(t)},Element.prototype.addAttr=function(t,e){t=t||"",e=e||"",this.setAttribute(t,e)},Element.prototype.removeAttr=function(t){t=t||"",this.removeAttribute(t)},Element.prototype.text=function(t){t=t||"",this.innerText=t},Number.prototype.round=function(t="2"){const e=Math.pow(10,parseInt(t));return Math.round(this*e)/e}};document.addEventListener("DOMContentLoaded",(function(){new CalculatorBuilder}));const roundVal=(t,e="2")=>{const o=Math.pow(10,parseInt(e));return Math.round(t*o)/o};function checkCalcVariable(t,e){return""!==e?e:t}